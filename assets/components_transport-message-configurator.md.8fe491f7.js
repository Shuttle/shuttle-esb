import { _ as _export_sfc, c as createElementBlock, b as createBaseVNode, t as toDisplayString, a as createStaticVNode, o as openBlock } from "./app.2d1f51b6.js";
const __pageData = '{"title":"TransportMessageConfigurator","description":"","frontmatter":{"title":"TransportMessageConfigurator","layout":"api"},"headers":[{"level":2,"title":"Properties","slug":"properties"},{"level":3,"title":"Headers","slug":"headers"},{"level":2,"title":"Methods","slug":"methods"},{"level":3,"title":"Local","slug":"local"},{"level":3,"title":"Reply","slug":"reply"},{"level":3,"title":"WithRecipient","slug":"withrecipient"},{"level":3,"title":"WithCorrelationId","slug":"withcorrelationid"},{"level":3,"title":"Defer","slug":"defer"},{"level":3,"title":"WillExpire","slug":"willexpire"},{"level":3,"title":"WithPriority","slug":"withpriority"},{"level":3,"title":"WithEncryption","slug":"withencryption"},{"level":3,"title":"WithCompression","slug":"withcompression"},{"level":3,"title":"TransportMessageReceived","slug":"transportmessagereceived"},{"level":3,"title":"HasTransportMessageReceived","slug":"hastransportmessagereceived"},{"level":3,"title":"TransportMessage","slug":"transportmessage"}],"relativePath":"components/transport-message-configurator.md"}';
const _sfc_main = {};
const _hoisted_1 = /* @__PURE__ */ createStaticVNode('<h1 id="transportmessageconfigurator" tabindex="-1">TransportMessageConfigurator <a class="header-anchor" href="#transportmessageconfigurator" aria-hidden="true">#</a></h1><h2 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-hidden="true">#</a></h2><h3 id="headers" tabindex="-1">Headers <a class="header-anchor" href="#headers" aria-hidden="true">#</a></h3><div class="language-c#"><pre><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">TransportHeader</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Headers </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span></code></pre></div><p>Contains the list of name/value pair transport headers. Whenever a <code>TransportMessageReceived</code> is set</p><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-hidden="true">#</a></h2><h3 id="local" tabindex="-1">Local <a class="header-anchor" href="#local" aria-hidden="true">#</a></h3><div class="language-c#"><pre><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TransportMessageConfigurator</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Local</span><span style="color:#89DDFF;">()</span></span>\n<span class="line"></span></code></pre></div><p>This sets the <code>RecipientInboxWorkQueueUri</code> tot he local inbox work queue uri. If there is no inbox an expection is thrown.</p><h3 id="reply" tabindex="-1">Reply <a class="header-anchor" href="#reply" aria-hidden="true">#</a></h3><div class="language-c#"><pre><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TransportMessageConfigurator</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Reply</span><span style="color:#89DDFF;">()</span></span>\n<span class="line"></span></code></pre></div><p>This sets the <code>RecipientInboxWorkQueueUri</code> to the <code>SenderInboxWorkQueueUri</code> of the transport message that was received. This method, therefore, is only available in a [HandlerContext]. If no transport message received instance is available or if the received transport message does not have a <code>SenderInboxWorkQueueUri</code> property (the sender has no inbox) an exception is thrown.</p><h3 id="withrecipient" tabindex="-1">WithRecipient <a class="header-anchor" href="#withrecipient" aria-hidden="true">#</a></h3><div class="language-c#"><pre><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TransportMessageConfigurator</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">WithRecipient</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">IQueue</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">queue</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">public TransportMessageConfigurator WithRecipient</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Uri</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">uri</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">public TransportMessageConfigurator WithRecipient</span><span style="color:#89DDFF;">(string</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">uri</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"></span></code></pre></div><p>This sets the <code>RecipientInboxWorkQueueUri</code> explicitly and no routing will be applied.</p><h3 id="withcorrelationid" tabindex="-1">WithCorrelationId <a class="header-anchor" href="#withcorrelationid" aria-hidden="true">#</a></h3><div class="language-c#"><pre><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TransportMessageConfigurator</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">WithCorrelationId</span><span style="color:#89DDFF;">(string</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">correlationId</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"></span></code></pre></div><p>Sets the correlation if for the message.</p><h3 id="defer" tabindex="-1">Defer <a class="header-anchor" href="#defer" aria-hidden="true">#</a></h3><div class="language-c#"><pre><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TransportMessageConfigurator</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Defer</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">DateTime</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ignoreTillDate</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"></span></code></pre></div><p>Ignores the [TransportMessage] until the given date/time has been reached. The [TransportMessage] is sent immediately and it is up to the receiving endpoint to decide how to defer it. It is recommended that you configure a deferred queue:</p><div class="language-xml"><pre><code><span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">serviceBus</span><span style="color:#89DDFF;">&gt;</span></span>\n<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">inbox</span></span>\n<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">workQueueUri</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">msmq://./pubsub-client-inbox-work</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">deferredQueueUri</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">msmq://./pubsub-client-inbox-deferred</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> &lt;!-- THE DEFERRED QUEUE STORE --&gt;</span></span>\n<span class="line"><span style="color:#A6ACCD;">          errorQueueUri=&quot;msmq://./shuttle-samples-error&quot; /&gt;</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">serviceBus</span><span style="color:#89DDFF;">&gt;</span></span>\n<span class="line"></span></code></pre></div><p>Without a dedicated deferred queue the work queue will contain the deferred message. This may slow down processing as a deferred message is not regarded as work. If the queue contains too many deferred messages the queue processing will become very slow and unresponsive.</p><h3 id="willexpire" tabindex="-1">WillExpire <a class="header-anchor" href="#willexpire" aria-hidden="true">#</a></h3><div class="language-c#"><pre><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TransportMessageConfigurator</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">WillExpire</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">DateTime</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">expiryDate</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"></span></code></pre></div><p>The message will only remain valid until this date is reached. After this is will not be processed but rather immediately acknowledged. The queuing mechanism may also, should it support message expiry, remove the message internally from the queue.</p><h3 id="withpriority" tabindex="-1">WithPriority <a class="header-anchor" href="#withpriority" aria-hidden="true">#</a></h3><div class="language-c#"><pre><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TransportMessageConfigurator</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">WithPriority</span><span style="color:#89DDFF;">(int</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">priority</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"></span></code></pre></div><h3 id="withencryption" tabindex="-1">WithEncryption <a class="header-anchor" href="#withencryption" aria-hidden="true">#</a></h3><div class="language-c#"><pre><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TransportMessageConfigurator</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">WithEncryption</span><span style="color:#89DDFF;">(string</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">encryption</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"></span></code></pre></div><h3 id="withcompression" tabindex="-1">WithCompression <a class="header-anchor" href="#withcompression" aria-hidden="true">#</a></h3><div class="language-c#"><pre><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TransportMessageConfigurator</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">WithCompression</span><span style="color:#89DDFF;">(string</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">compression</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"></span></code></pre></div><h3 id="transportmessagereceived" tabindex="-1">TransportMessageReceived <a class="header-anchor" href="#transportmessagereceived" aria-hidden="true">#</a></h3><div class="language-c#"><pre><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">TransportMessageReceived</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">TransportMessage</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">transportMessageReceived</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"></span></code></pre></div><p>This will be called by Shuttle.Esb directly. The call will add all the received headers to the configurator headers and set the correlation id to the correlation id of the received transport message.</p><h3 id="hastransportmessagereceived" tabindex="-1">HasTransportMessageReceived <a class="header-anchor" href="#hastransportmessagereceived" aria-hidden="true">#</a></h3><div class="language-c#"><pre><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> bool HasTransportMessageReceived</span></span>\n<span class="line"></span></code></pre></div><p>Returns <code>true</code> if a <code>TransportMessageReceived</code> has been set for the [MessageSender] else <code>false</code>.</p><h3 id="transportmessage" tabindex="-1">TransportMessage <a class="header-anchor" href="#transportmessage" aria-hidden="true">#</a></h3><div class="language-c#"><pre><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TransportMessage</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">TransportMessage</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">IServiceBusConfiguration</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">configuration</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"></span></code></pre></div><p>This returns a new [TransportMessage] that contains the configured properties.</p>', 41);
function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", null, [
    _hoisted_1,
    createBaseVNode("p", null, "[MessageSender]: " + toDisplayString("/message-sender" | _ctx.relative_url) + " [HandlerContext]: " + toDisplayString("/handler-context" | _ctx.relative_url) + " [TransportMessage]: " + toDisplayString("/transport-message" | _ctx.relative_url), 1)
  ]);
}
var transportMessageConfigurator = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render]]);
export { __pageData, transportMessageConfigurator as default };
